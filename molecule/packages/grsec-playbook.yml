---
#
# the following is equivalent to
#
# if test -d packages-host:/home/debian/linux-packages
#    playbook grsec-build-playbook.yml
#
- name: look for linux packages 
  hosts: packages-host

  tasks:
    - command: test -d /home/debian/linux-packages
      register: output
      ignore_errors: True

    - set_fact:
        linux_packages_exists: "{{ output.rc == 0 }}"

- import_playbook: grsec-build-playbook.yml
  when: not hostvars["packages-host"]["linux_packages_exists"]
